(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,a){},38:function(e,t,a){e.exports=a.p+"static/media/login-bg.1be3217a.mov"},40:function(e,t,a){e.exports=a.p+"static/media/yodaPlaceholder.861b7688.jpg"},41:function(e,t,a){e.exports=a.p+"static/media/rankPlaceholder.d543c4b6.png"},44:function(e,t,a){e.exports=a(89)},49:function(e,t,a){},50:function(e,t,a){},55:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),s=(a(49),a(50),a(9)),o=a(16),u=a(2),i=a(7),d=a(3),m=(a(55),a(38)),p=a.n(m),f=a(1),h=a.n(f),E=a(5),b={BASE_URL_DEV:"http://localhost:5050",BASE_URL_PROD:"https://swob-swapi.herokuapp.com",LOGIN:"user:login",REFRESH:"user:refreshUSer",REFRESH_CHARACTER:"user:refreshCharacter",REFRESH_LEVEL:"user:refreshLevel",AUTHENTICATION:"data:isAuthenticated",ADD_ERRORS:"ui:add-errors",CLEAR_ERRORS:"ui:clear-errors",TOGGLE_MODAL:"ui:toggle-modal",GET_ALL_BATTLE_MESSAGES:"data:get-all-messages",GET_LEADERBOARD:"data:get-leaderboard-users",GET_POTENTIAL_BATTLES:"data:potential-battles",GET_SQUAD:"data:get-user-squad",GET_CMD_BRD_INFO:"data:get-command-info",GET_SQUAD_SEARCH_INFO:"data:get-squad-search-info",GET_SQUAD_INFORMATION:"data:get-squad-information"},g=a(4),O=a.n(g);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=function(e){var t="Bearer ".concat(e);localStorage.setItem("token",t),O.a.defaults.headers.common.Authorization=t},w=function(e){return function(t){O.a.get("/notifications/messages/".concat(e)).then((function(e){t({type:b.GET_ALL_BATTLE_MESSAGES,payload:e.data})})).catch((function(e){t({type:b.ADD_ERRORS,payload:e})}))}},S=function(){return function(){var e=Object(E.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/notifications/battle",{battleType:"bot"}).then((function(e){a=!0})).catch((function(e){a=!1,console.log(e.response)}));case 2:return e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(){return function(){var e=Object(E.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/notifications/battle",{battleType:"online"}).then((function(e){a=!0})).catch((function(e){a=!1,console.log(e.response)}));case 2:return e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(){return function(e){O.a.get("/data/getBattleUsers").then((function(t){e({type:b.GET_POTENTIAL_BATTLES,payload:t.data})})).catch((function(t){console.log(t),e({type:b.ADD_ERRORS,payload:t.data})}))}},D=function(){return function(e){O.a.get("/squad/get").then((function(t){e({type:b.GET_SQUAD,payload:y({},t.data)})})).catch((function(e){return console.log(e)}))}},C=function(e){return function(t){t({type:b.TOGGLE_MODAL,payload:e})}},q=function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,O.a.get("/squad/".concat(e)).then((function(e){console.log(e.data),n=e.data,a({type:b.GET_SQUAD_SEARCH_INFO,payload:e.data})})).catch((function(e){console.log(e.response),n=e}));case 3:return t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var R={loginUser:function(e){return function(t){O.a.post("/data/login",e).then((function(e){j(e.data.token),t({type:b.LOGIN,payload:{username:e.data.user.username,userCharacter:e.data.character}}),t({type:b.AUTHENTICATION,payload:{isAuthenticated:!0}})})).catch((function(e){t({type:b.ADD_ERRORS,payload:{errors:e.response?e.response.data:e}})}))}}},N=Object(d.b)((function(e){return{isAuthenticated:e.Data.isAuthenticated,errors:e.UI.errors}}),R)((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(i.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){e.isAuthenticated&&e.history.push("/dashboard")}),[e.isAuthenticated]);var o=function(e){l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,Object(u.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("div",{id:"bgVideo-wrap"},r.a.createElement("video",{autoPlay:"true",loop:"true",src:p.a})),r.a.createElement("div",{id:"video-overlay"}),r.a.createElement("div",{id:"login-content"},r.a.createElement("div",{id:"login__form-container"},r.a.createElement("h1",null,"Star Wars",r.a.createElement("br",null),"Online Battles"),e.errors.signIn&&1===Object.keys(e.errors).length?r.a.createElement("h5",{style:{textTransform:"capitalize",alignSelf:"center"},className:"flashAlert"},e.errors.signIn):null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.loginUser(c)}},r.a.createElement("input",{onChange:o,value:c.email,type:"email",name:"email",placeholder:"Email",style:e.errors.email?{margin:"5px 0 0"}:null}),e.errors.email?r.a.createElement("h5",{className:"flashAlert"},e.errors.email):null,r.a.createElement("input",{onChange:o,value:c.password,type:"password",name:"password",placeholder:"Password",style:e.errors.password?{margin:"5px 0 0"}:null}),e.errors.password?r.a.createElement("h5",{className:"flashAlert"},e.errors.password):null,r.a.createElement("button",{type:"submit"},"Sign In"))),r.a.createElement("div",{id:"page-selection"},r.a.createElement(s.b,{className:"selection__link red-hov",to:"/password-reset"},"Password Reset"),r.a.createElement("span",null,"|"),r.a.createElement(s.b,{className:"selection__link green-hov",to:"/create-account"},"Create Account"))))}));a(36);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T={reqPasswordReset:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.next=3,O.a.post("/data/reset/",{email:e}).then((function(e){console.log(e.data),"reset verified and sent"===e.data.reset&&(n=!0)})).catch((function(e){return console.log(e)}));case 3:return t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},x=Object(d.b)((function(e){return{errors:e.UI.errors}}),T)((function(e){var t=Object(n.useState)({email:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({alerts:"",color:""}),d=Object(i.a)(o,2),m=d[0],p=d[1],f=function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.reqPasswordReset(c.email);case 3:t.sent?(p(A({},m,{alerts:"Reset link sent to email",color:"Chartreuse"})),l(A({},c,{email:""}))):p(A({},m,{alerts:"Account not found for this email",color:"red"}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"reset-page"},r.a.createElement("div",{id:"reset__form-container"},r.a.createElement("h1",null,"Password Reset"),r.a.createElement("form",{onSubmit:f},r.a.createElement("input",{onChange:function(e){l(A({},c,Object(u.a)({},e.target.name,e.target.value)))},value:c.email,type:"email",name:"email",placeholder:"Email"}),m.alerts?r.a.createElement("h5",{style:{color:m.color},className:"flashAlert"},m.alerts):null,r.a.createElement("button",{type:"submit"},"Send Reset")),r.a.createElement("div",{id:"page-selection"},r.a.createElement(s.b,{class:"selection__link red-hov",to:"/"},"Sign In"),r.a.createElement("span",null,"|"),r.a.createElement(s.b,{class:"selection__link green-hov",to:"/create-account"},"Create Account"))))}));a(75);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={createUser:function(e){return function(t){O.a.post("/user/new",e).then((function(e){j(e.data.token),t({type:b.REFRESH,payload:e.data.newUser}),t({type:b.AUTHENTICATION,payload:{isAuthenticated:!0}})})).catch((function(e){t({type:b.ADD_ERRORS,payload:{errors:e.response.data}}),console.log(e.response.data)}))}}},L=Object(d.b)((function(e){return{username:e.User.username,errors:e.UI.errors}}),U)((function(e){var t=Object(n.useState)({username:"",email:"",password:"",confirmPassword:"",characterSelection:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({nameSuggestions:[],nameSuggestionsLowerCase:[]}),d=Object(i.a)(o,2),m=d[0],p=d[1],f=function(e){l(B({},c,Object(u.a)({},e.target.name,e.target.value))),"characterSelection"===e.target.name&&h(e.target.value)},h=function(e){O.a.get("https://swapi.co/api/people/?search=".concat(e)).then((function(e){p(B({},m,{nameSuggestions:e.data.results.map((function(e){return e.name})),nameSuggestionsLowerCase:e.data.results.map((function(e){return e.name.toLowerCase()}))}))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){""!==e.username.trim()&&e.history.push("/dashboard")}),[e.username]),r.a.createElement("div",{id:"newAccount-page"},r.a.createElement("div",{id:"newAccount__form-container"},r.a.createElement("h1",null,"New Account"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),c.characterSelection=document.getElementById("userCharacterSelectionInput").value,m.nameSuggestionsLowerCase.includes(c.characterSelection.toLowerCase())?e.createUser(c):alert("Invalid Character Choice")}},r.a.createElement("input",{onChange:f,value:c.username,type:"username",name:"username",placeholder:"Username"}),e.errors.username?r.a.createElement("h5",{className:"flashAlert"},e.errors.username):null,r.a.createElement("input",{onChange:f,value:c.email,type:"email",name:"email",placeholder:"Email"}),e.errors.email?r.a.createElement("h5",{className:"flashAlert"},e.errors.email):null,r.a.createElement("input",{onChange:f,value:c.password,type:"password",name:"password",placeholder:"Password"}),e.errors.password?r.a.createElement("h5",{className:"flashAlert"},e.errors.password):null,r.a.createElement("input",{onChange:f,value:c.confirmPassword,type:"password",name:"confirmPassword",placeholder:"Confirm Password"}),e.errors.confirmPassword?r.a.createElement("h5",{className:"flashAlert"},e.errors.confirmPassword):null,r.a.createElement("input",{onChange:f,type:"text",id:"userCharacterSelectionInput",autoComplete:"off",name:"characterSelection",placeholder:"Choose Your Character"}),e.errors.characterSelection?r.a.createElement("h5",{className:"flashAlert"},e.errors.characterSelection):null,m.nameSuggestionsLowerCase.includes(c.characterSelection.toLowerCase())?r.a.createElement("button",{type:"submit"},"Create Account"):r.a.createElement("h2",{id:"invalidCharacter"},"Select Valid Character"),r.a.createElement("div",{className:"characterSuggestions__text"},r.a.createElement("h5",{id:"characterSuggestions"},"Name Suggestions: "),m.nameSuggestions.length>0?m.nameSuggestions.slice(0,5).map((function(e,t){return r.a.createElement("h6",{key:t},e)})):null)),r.a.createElement("div",{id:"page-selection"},r.a.createElement(s.b,{className:"selection__link red-hov",to:"/"},"Sign In"),r.a.createElement("span",null,"|"),r.a.createElement(s.b,{className:"selection__link green-hov",to:"/password-reset"},"Password Reset"))))})),G=(a(76),function(){return function(e){O.a.get("/user/level").then((function(t){console.log(t.data),e({type:b.REFRESH_LEVEL,payload:t.data})})).catch((function(e){return console.log(e)}))}});var F={logout:function(){localStorage.clear(),window.location.href="/"},toggleModal:C},H=Object(d.b)((function(e){return{state:e}}),F)((function(e){return r.a.createElement("div",{id:"navbar"},r.a.createElement("i",{id:"navbar__logout",onClick:function(){e.logout()},className:"fas fa-sign-out-alt"}),r.a.createElement("h1",null,"StarWars Online Battles"),r.a.createElement("div",null,r.a.createElement("i",{onClick:function(){e.toggleModal("battle-panel")},className:"fas fa-journal-whills"})))})),Q=(a(77),a(40)),W=a.n(Q),V=a(41),X=a.n(V);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Y={getUserImage:function(e){return function(t){console.log(e),e&&console.log("asrseesasdafas")}}},z=Object(d.b)((function(e){return{userData:e.User,progressData:e.User.userCharacter.rpgInfo}}),Y)((function(e){var t,a,c=Object(n.useState)({currPercentage:0}),l=Object(i.a)(c,2),s=l[0],o=l[1];return Object(n.useEffect)((function(){e.progressData&&(t=500*Math.pow(1.1,e.progressData.rank),a=e.progressData.xp/t*100,o(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},s,{currPercentage:a})))}),[e.progressData]),r.a.createElement("div",{id:"userCard"},r.a.createElement("header",null,r.a.createElement("div",{id:"profilePic-wrapper"},r.a.createElement("div",{id:"profilePic-container"},r.a.createElement("img",{src:W.a,alt:"user profile"}))),r.a.createElement("h1",null,e.userData.username?e.userData.username:null)),r.a.createElement("main",null,r.a.createElement("div",{id:"content-container"},r.a.createElement("ul",null,r.a.createElement("li",{style:{whiteSpace:"nowrap"}},"Character:"," ",r.a.createElement("span",null,e.userData.userCharacter.name?e.userData.userCharacter.name:null)),r.a.createElement("li",null,"Type:"," ",r.a.createElement("span",null,e.userData.userCharacter.species?e.userData.userCharacter.species:null)),r.a.createElement("li",null,"Gender:"," ",r.a.createElement("span",null,e.userData.userCharacter.gender?e.userData.userCharacter.gender.charAt(0).toUpperCase()+e.userData.userCharacter.gender.slice(1):null)),r.a.createElement("li",null,"Height:"," ",r.a.createElement("span",null,e.userData.userCharacter.height?(Math.ceil(e.userData.userCharacter.height/30.48*100)/100).toString().split(".").join("' ")+'"':null)),r.a.createElement("li",null,"Mass:"," ",r.a.createElement("span",null,e.userData.userCharacter.mass&&"unknown"!==e.userData.userCharacter.mass?Math.ceil(e.userData.userCharacter.mass/.454*100)/100+" lbs":"Unknown")),r.a.createElement("li",null,"Birth Year:"," ",r.a.createElement("span",null,e.userData.userCharacter.birth_year?e.userData.userCharacter.birth_year:null)))),r.a.createElement("div",{id:"rankPic-container"},r.a.createElement("div",{id:"rankPic"},r.a.createElement("img",{src:X.a,alt:"user rank"})),r.a.createElement("h4",null,"Level"," ",e.userData.userCharacter.rpgInfo?e.userData.userCharacter.rpgInfo.rank:"Recruit"),r.a.createElement("div",{id:"level-progress"},r.a.createElement("div",{style:{width:"".concat(s.currPercentage,"%")},id:"level-progress__bar"})))),r.a.createElement("footer",null,r.a.createElement("div",{id:"footer__kd-container"},r.a.createElement("h4",null,r.a.createElement("span",{style:{color:"green"}},"Win")," /"," ",r.a.createElement("span",{style:{color:"red"}},"Loss"),":"," ","undefined"!=typeof e.userData.userCharacter.stats.totalLosses?Math.round(e.userData.userCharacter.stats.totalWins/(0===e.userData.userCharacter.stats.totalLosses?1:e.userData.userCharacter.stats.totalLosses)*100)/100:null),r.a.createElement("hr",null),r.a.createElement("h4",null,"Total Wins:"," ",r.a.createElement("span",{id:"kd__wins"},"undefined"!=typeof e.userData.userCharacter.stats.totalWins?e.userData.userCharacter.stats.totalWins:null)),r.a.createElement("h4",null,"Total Losses:"," ",r.a.createElement("span",{id:"kd__losses"},"undefined"!=typeof e.userData.userCharacter.stats.totalLosses?e.userData.userCharacter.stats.totalLosses:null))),r.a.createElement("div",{id:"footer__streak-container"},r.a.createElement("h4",null,"Win Streak: "),r.a.createElement("hr",null),r.a.createElement("h4",{id:"streak__num"},"undefined"!=typeof e.userData.userCharacter.stats.winStreak?e.userData.userCharacter.stats.winStreak:null))))}));a(78);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $={getBattleMessages:w,handleBotBattle:S,handleOnlineBattle:_,levelRefresh:G},ee=Object(d.b)((function(e){return{userInfo:e.User,battleMessages:e.Data.battleMessages}}),$)((function(e){Object(n.useEffect)((function(){e.getBattleMessages("battle")}),[e.userInfo]);var t=Object(n.useState)({status:!1}),a=Object(i.a)(t,2),c=a[0],l=a[1],s=function(){var t=Object(E.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(Z({},c,{status:!0})),t.next=3,e.handleOnlineBattle();case 3:if(!t.sent){t.next=10;break}return t.next=7,e.getBattleMessages("battle");case 7:t.sent,l(Z({},c,{status:!1})),e.levelRefresh();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(Z({},c,{status:!0})),t.next=3,e.handleBotBattle();case 3:if(!t.sent){t.next=10;break}return t.next=7,e.getBattleMessages("battle");case 7:t.sent,l(Z({},c,{status:!1})),e.levelRefresh();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"battleCard"},r.a.createElement("div",{className:"battleCard__container"},e.battleMessages.length>0?e.battleMessages.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h1",null,e.message),r.a.createElement("h2",null,"lost"===e.battleStatus?"-":null,e.battleStatusXp,"xp"))})):null),c.status?null:r.a.createElement("div",{id:"battleCard__battleButtons"},r.a.createElement("div",{onClick:o},r.a.createElement("a",null,"Bot Battle")),r.a.createElement("div",{onClick:s},r.a.createElement("a",null,"Online Battle"))),r.a.createElement("div",{className:"battleCard__container lower"},r.a.createElement("h1",null,"Stats:"),r.a.createElement("div",null,r.a.createElement("h3",null,"Attack Points -"," ",e.userInfo.userCharacter.stats.attackMultiplier),r.a.createElement("h3",null,"Defence Points -"," ",e.userInfo.userCharacter.stats.defenseMultiplier))),r.a.createElement("div",{className:"battleCard__container lower"},r.a.createElement("h1",null,"Inventory:"),r.a.createElement("div",null,r.a.createElement("div",{id:"battleCard__container__statModifier"},r.a.createElement("h3",null,"You have no artifacts...")))))}));a(79);var te={getLeaderBoardUsers:function(){return function(e){O.a.get("/data/leaderboard").then((function(t){e({type:b.GET_LEADERBOARD,payload:t.data})})).catch((function(t){console.log(t),e({type:b.ADD_ERRORS,payload:t})}))}}},ae=Object(d.b)((function(e){return{leaderboardUsers:e.Data.leaderboard}}),te)((function(e){return Object(n.useEffect)((function(){e.getLeaderBoardUsers()}),[]),r.a.createElement("div",{id:"leaderBoard"},r.a.createElement("h2",{id:"leaderBoard-title"},"LeaderBoard"),r.a.createElement("table",{id:"leaderboard-container"},r.a.createElement("thead",null,r.a.createElement("tr",{id:"leaderboard__header"},r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement("h4",null,"Rank")),r.a.createElement("th",null,r.a.createElement("h4",null,"Username")),r.a.createElement("th",null,r.a.createElement("h4",null,"Score")))),r.a.createElement("tbody",null,e.leaderboardUsers.length>0?e.leaderboardUsers.map((function(e,t){return r.a.createElement("tr",{className:"leaderboard__bodyItem",key:t},r.a.createElement("td",null,r.a.createElement("h3",null,e.position,".")),r.a.createElement("td",null,r.a.createElement("h3",null,e.rank)),r.a.createElement("td",null,r.a.createElement("h3",null,e.username)),r.a.createElement("td",null,r.a.createElement("h3",null,e.score)))})):null)))}));a(80);function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce={createSquad:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.trim()){t.next=2;break}return t.abrupt("return",alert("must provide squad name"));case 2:return t.next=4,O.a.post("/squad/create",{squadName:e}).then((function(e){console.log(e),n=!0})).catch((function(e){console.log(e),n=!1}));case 4:return t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getSquad:D,toggleModal:C,searchForSquad:q},le=Object(d.b)((function(e){return{username:e.User.username,squad:e.User.squad,captain:e.User.squad?e.User.squad.captain:e.User.squad,lieutenantCommander:e.User.squad?e.User.squad.lieutenantCommander:e.User.squad,grunt:e.User.squad?e.User.squad.grunt:e.User.squad}}),ce)((function(e){var t=Object(n.useState)({squadName:"",searchedSquads:[]}),a=Object(i.a)(t,2),c=a[0],l=a[1],s=function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==c.squadName&&""!==c.squadName.trim()){t.next=3;break}return l(re({},c.squadName,{squadName:""})),t.abrupt("return",alert("must provide squad name"));case 3:return t.next=5,e.createSquad(c.squadName);case 5:t.sent,e.getSquad();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"squadCard"},r.a.createElement("h1",null,"Squad:"," ",e.squad&&e.squad.squadName?r.a.createElement("span",null,e.squad.squadName):r.a.createElement("form",{id:"squadCard__new-form",onSubmit:function(e){e.preventDefault()}},r.a.createElement("input",{type:"text",name:"squadName",value:c.squadName,onChange:function(e){e.preventDefault(),l(re({},c,Object(u.a)({},e.target.name,e.target.value)))},id:"inputSquad",placeholder:"Create a squad?"}))),e.squad&&e.squad.grandAdmiral?r.a.createElement("section",null,r.a.createElement("div",{className:"squadCard-userTag"},r.a.createElement("h3",null,"GrandAdmiral:"," ",r.a.createElement("span",null,e.squad.grandAdmiral?e.squad.grandAdmiral:"Not Enlisted"))),r.a.createElement("div",{className:"squadCard-userTag"},r.a.createElement("h3",null,"Captain:"," ",e.captain?e.captain.map((function(e,t){return r.a.createElement("span",{key:t},e.username)})):r.a.createElement("span",null," None Enlisted"))),r.a.createElement("div",{className:"squadCard-userTag"},r.a.createElement("h3",null,"LieutenantCommander:"," ",e.lieutenantCommander?e.lieutenantCommander.map((function(e,t){return r.a.createElement("span",{key:t},e.username)})):r.a.createElement("span",null," None Enlisted"))),r.a.createElement("div",{className:"squadCard-userTag"},r.a.createElement("h3",null,"Grunt:",e.grunt?e.grunt.map((function(e,t){return r.a.createElement("span",{key:t},e.username)})):r.a.createElement("span",null," None Enlisted")))):null,r.a.createElement("div",{id:"squadCard-buttons"},e.squad&&e.squad.grandAdmiral===e.username?r.a.createElement("div",{onClick:function(){e.toggleModal("command-panel")}},r.a.createElement("a",null,"Command Panel")):e.squad&&e.squad.squadName?r.a.createElement("div",{onClick:function(t){e.toggleModal("squad-information")}},r.a.createElement("a",null,"Squad Information")):r.a.createElement("section",{id:"creation__btn-container"},r.a.createElement("div",{onClick:s},r.a.createElement("a",null,"Activate Squad")),r.a.createElement("div",{onClick:function(){e.toggleModal("search-panel")}},r.a.createElement("a",null,"Search Squad")))))}));a(81);var se={refreshCharacter:function(){return function(e){O.a.defaults.headers.common.Authorization=localStorage.getItem("token"),O.a.get("/user/dashboard-data").then((function(t){O.a.get("https://swapi.co/api/people/?search=".concat(t.data.allUserInfo.userCharacter.characterName)).then((function(t){e({type:b.REFRESH_CHARACTER,payload:t.data.results[0]}),O.a.get(t.data.results[0].species[0]).then((function(t){e({type:b.REFRESH_CHARACTER,payload:{species:t.data.name}}),e({type:b.AUTHENTICATION,payload:{isAuthenticated:!0}})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),e({type:b.REFRESH,payload:t.data.allUserInfo}),e({type:b.CLEAR_ERRORS})})).catch((function(e){return console.log(e)}))}},getSquad:D},oe=Object(d.b)((function(e){return{state:e}}),se)((function(e){return Object(n.useEffect)((function(){e.refreshCharacter(),e.getSquad()}),[]),r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement("div",{id:"dashboard__main"},r.a.createElement("div",{id:"dashboard__user"},r.a.createElement(z,null),r.a.createElement(ee,null)),r.a.createElement("div",{id:"dashboard__global"},r.a.createElement(ae,null),r.a.createElement(le,null))))}));a(82),a(83);function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var de={getBattleMessages:w,handleBotBattle:S,handleOnlineBattle:_,getPossibleMatchup:P,levelRefresh:G},me=Object(d.b)((function(e){return{userInfo:e.User,battleMessages:e.Data.battleMessages,users:e.Data.potentialUsers}}),de)((function(e){Object(n.useEffect)((function(){e.getBattleMessages("battle"),e.getPossibleMatchup()}),[e.userInfo]);var t=Object(n.useState)({status:!1}),a=Object(i.a)(t,2),c=a[0],l=a[1],s=function(){var t=Object(E.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(ie({},c,{status:!0})),t.next=3,e.handleOnlineBattle();case 3:if(!t.sent){t.next=10;break}return t.next=7,e.getBattleMessages("battle");case 7:t.sent,l(ie({},c,{status:!1})),e.levelRefresh();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(ie({},c,{status:!0})),t.next=3,e.handleBotBattle();case 3:if(!t.sent){t.next=10;break}return t.next=7,e.getBattleMessages("battle");case 7:t.sent,l(ie({},c,{status:!1})),e.levelRefresh();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{id:"onlineBattle-modal"},r.a.createElement("div",{id:"onlineBattle__action-container"},r.a.createElement("div",{className:"onlineBattle__contentBox"},e.battleMessages.length>0?e.battleMessages.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h1",null,e.message),r.a.createElement("h2",null,"lost"===e.battleStatus?"-":null,e.battleStatusXp,"xp"))})):null),!c.status&&r.a.createElement("section",null,r.a.createElement("div",{onClick:o,className:"onlineBattle-buttons bot"},r.a.createElement("a",null,"Bot Battle")),r.a.createElement("div",{onClick:s,className:"onlineBattle-buttons online"},r.a.createElement("a",null,"Online Battle"))),r.a.createElement("div",{className:"onlineBattle__contentBox",id:"contentBox-lower"},r.a.createElement("p",null,"Inventory:"),r.a.createElement("br",null),r.a.createElement("p",null,"You have no artifacts..."))),r.a.createElement("div",{id:"onlineBattle__global-container"},r.a.createElement("table",{id:"global__table"},r.a.createElement("thead",null,r.a.createElement("tr",{id:"global__header"},r.a.createElement("th",null,r.a.createElement("h4",null,"Username")),r.a.createElement("th",null,r.a.createElement("h4",null,"Alias")),r.a.createElement("th",null,r.a.createElement("h4",null,"Rank")),r.a.createElement("th",null,r.a.createElement("h4",null,"WinStreak")))),r.a.createElement("tbody",null,e.users.length>0?e.users.map((function(e,t){return r.a.createElement("tr",{className:"global__User-container",key:t},r.a.createElement("td",null,r.a.createElement("h3",null,e.username)),r.a.createElement("td",null,r.a.createElement("h3",null,e.characterName)),r.a.createElement("td",null,r.a.createElement("h3",null,e.rank)),r.a.createElement("td",null,r.a.createElement("h3",null,e.winStreak)))})):null)))))}));a(84);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var fe={getCmdBrdInfo:function(){return function(e){O.a.get("/squad/command-panel-info").then((function(t){e({type:b.GET_CMD_BRD_INFO,payload:t.data})})).catch((function(e){console.log(e)}))}},saveSquadChanges:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""===e.squadName.trim()&&e.removeMembers.length>=0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,O.a.post("/squad/update-squad",{squadName:e.squadName,removeMembers:e.removeMembers}).then((function(e){n=!0})).catch((function(e){console.log(e),n=!1}));case 4:return t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getSquad:D,handleJoinRequestResponse:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("/squad/handle-request",{requesterId:e.userId,decision:e.decision}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleModal:C,removeUserFromSquad:function(e){return function(t){O.a.post("/squad/delete/members",{userIds:e}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}},he=Object(d.b)((function(e){return{squad:e.User.squad,pnlInfo:e.Data.squadMemberInfo,user:e.User}}),fe)((function(e){var t=Object(n.useState)({squadName:"",removeMembers:[]}),a=Object(i.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){e.getCmdBrdInfo()}),[]);var s=function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveSquadChanges(c);case 2:if(!t.sent){t.next=11;break}return t.next=6,e.getSquad();case 6:return t.sent,t.next=9,e.getCmdBrdInfo();case 9:t.sent,e.toggleModal("");case 11:c.removeMembers.length>0&&e.removeUserFromSquad(c.removeMembers);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(e){document.getElementById(e.target.id).classList.toggle("marked");var t=c.removeMembers.indexOf(e.target.name);if(-1!==t)return c.removeMembers.splice(t,1);c.removeMembers.push(e.target.name)},d=function(){var t=Object(E.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,document.getElementById("logger").value;case 2:return a=t.sent,t.next=5,e.handleJoinRequestResponse({decision:"verify",userId:a});case 5:t.sent,console.log("running"),e.getCmdBrdInfo();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(E.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,document.getElementById("logger").value;case 2:return a=t.sent,t.next=5,e.handleJoinRequestResponse({decision:"reject",userId:a});case 5:t.sent,console.log("running"),e.getCmdBrdInfo();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"command-panel"},r.a.createElement("div",{className:"command-panel__sub top-com"},r.a.createElement("div",{className:"sub__field resize-field"},r.a.createElement("h3",null,"Change Name: "),r.a.createElement("input",{id:"sub__name",type:"text",name:"squadName",onChange:function(e){l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,Object(u.a)({},e.target.name,e.target.value)))},value:c.squadName,placeholder:e.squad.squadName})),r.a.createElement("div",{className:"sub__field"},r.a.createElement("h3",null,"Total XP:"," ",e.pnlInfo.squadStats?e.pnlInfo.squadStats.totalScore:null)),r.a.createElement("div",{className:"sub__field"},r.a.createElement("h3",null,"Avg Rank:"," ",e.pnlInfo.squadStats?e.pnlInfo.squadStats.avgRank:null)),r.a.createElement("div",null,e.pnlInfo.joinRequest?e.pnlInfo.joinRequest.map((function(e,t){return r.a.createElement("div",{key:t,id:"join-request"},r.a.createElement("div",null,r.a.createElement("input",{type:"hidden",id:"logger",value:e.userId}),r.a.createElement("i",{onClick:d,id:"request-verify",className:"fa fa-check"}),r.a.createElement("i",{onClick:m,id:"request-reject",className:"fa fa-times"})),r.a.createElement("h4",{id:"requesting-user"},e.username))})):null)),r.a.createElement("div",{className:"command-panel__sub"},r.a.createElement("table",{id:"global__table"},r.a.createElement("thead",null,r.a.createElement("tr",{id:"global__header"},r.a.createElement("th",null,r.a.createElement("h4",null,"Remove")),r.a.createElement("th",null,r.a.createElement("h4",null,"SquadStatus")),r.a.createElement("th",null,r.a.createElement("h4",null,"Username")),r.a.createElement("th",null,r.a.createElement("h4",null,"Rank")),r.a.createElement("th",null,r.a.createElement("h4",null,"Win/Loss")))),r.a.createElement("tbody",null,Object.keys(e.pnlInfo).length>0?e.pnlInfo.members.map((function(t,a){return r.a.createElement("tr",Object(u.a)({key:a,className:"global__User-container"},"key",a),r.a.createElement("td",null,t.username!==e.user.username?r.a.createElement("button",{name:t.memberId,onClick:o,id:"cmdPnl-delete"},"\u2715"):null),r.a.createElement("td",null,r.a.createElement("h3",null,t.status)),r.a.createElement("td",null,r.a.createElement("h3",null,t.username)),r.a.createElement("td",null,r.a.createElement("h3",null,t.rank)),r.a.createElement("td",null,r.a.createElement("h3",null,t.rank)))})):null))),r.a.createElement("div",{onClick:s,id:"com-panel__save"},r.a.createElement("a",null,"Save Changes")))}));a(85);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ge={searchForSquad:q,sendJoinRequest:function(e){return function(t){console.log(e),O.a.post("/squad/join/request",{squadName:e}).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e)}))}}},Oe=Object(d.b)((function(e){return{searchQuery:e.Data.squadSearchInfo,user:e.User}}),ge)((function(e){var t=Object(n.useState)({squadName:"",allSquads:[]}),a=Object(i.a)(t,2),c=a[0],l=a[1],s=function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.searchForSquad(c.squadName);case 3:if((n=t.sent)&&404!==n.status){t.next=7;break}return t.abrupt("return");case 7:l(be({},c,{allSquads:[n.data]}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(t){var a=document.getElementById("squadName").innerHTML.split("Squad: ")[1];e.sendJoinRequest(a)};return r.a.createElement("div",{id:"search-panel"},r.a.createElement("div",{id:"search__content"},r.a.createElement("form",{onSubmit:s},r.a.createElement("input",{type:"text",name:"squadName",onChange:function(e){l(be({},c,Object(u.a)({},e.target.name,e.target.value)))},value:c.squadName}),r.a.createElement("button",{type:"submit",hidden:!0})),r.a.createElement("div",{id:"content__query"},e.searchQuery.length>0?e.searchQuery.map((function(e,t){return r.a.createElement("div",{key:t,id:"query__result",onClick:o,name:e.squadName},r.a.createElement("h3",{id:"squadName"},"Squad: ",e.squadName),r.a.createElement("h3",null,"Members: ",e.memberCount))})):r.a.createElement("div",{id:"query__result"},r.a.createElement("h3",null,"Squad Not Found")))))}));a(86);var ve={squadInformationPanel:function(){return function(e){O.a.get("/squad/squad-information/panel").then((function(t){e({type:b.GET_SQUAD_INFORMATION,payload:t.data})})).catch((function(e){return console.log(e)}))}}},ye=Object(d.b)((function(e){return{squadInfo:e.Data.squadInformationPanel}}),ve)((function(e){return Object(n.useEffect)((function(){e.squadInformationPanel()}),[]),r.a.createElement("div",{id:"squadInfo"},r.a.createElement("h1",null,"SquadInformation"),r.a.createElement("div",null,r.a.createElement("table",{id:"global__table"},r.a.createElement("thead",null,r.a.createElement("tr",{id:"global__header"},r.a.createElement("th",null,r.a.createElement("h4",null,"Name")),r.a.createElement("th",null,r.a.createElement("h4",null,"Level")),r.a.createElement("th",null,r.a.createElement("h4",null,"Win/Loss")),r.a.createElement("th",null,r.a.createElement("h4",null,"Character")),r.a.createElement("th",null,r.a.createElement("h4",null,"Squad Status")))),r.a.createElement("tbody",null,e.squadInfo.length>0?e.squadInfo.map((function(e,t){return r.a.createElement("tr",{className:"global__User-container",key:t},r.a.createElement("td",null,r.a.createElement("h3",null,e.username)),r.a.createElement("td",null,r.a.createElement("h3",null,e.rank)),r.a.createElement("td",null,r.a.createElement("h3",null,e.winLoss)),r.a.createElement("td",null,r.a.createElement("h3",null,e.character)),r.a.createElement("td",null,r.a.createElement("h3",null,e.status)))})):null))))}));var je={getBattleMessages:w,handleBotBattle:S,getPossibleMatchup:P,toggleModal:C},we=Object(d.b)((function(e){return{userInfo:e.User,modalState:e.UI.modalState,battleMessages:e.Data.battleMessages,users:e.Data.potentialUsers}}),je)((function(e){return Object(n.useEffect)((function(){e.getBattleMessages("battle"),e.getPossibleMatchup()}),[e.userInfo]),r.a.createElement("div",{id:"generalModal"},r.a.createElement("div",{id:"generalModal__overlay"}),r.a.createElement("div",{id:"generalModal__container"},r.a.createElement("div",{onClick:function(){e.toggleModal("")},id:"container__close"},r.a.createElement("h1",null,"X")),"battle-panel"===e.modalState?r.a.createElement(me,null):null,"command-panel"===e.modalState?r.a.createElement(he,null):null,"search-panel"===e.modalState?r.a.createElement(Oe,null):null,"squad-information"===e.modalState?r.a.createElement(ye,null):null))})),Se=a(42),_e=a.n(Se);function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ce={checkResetToken:function(e){return function(){var t=Object(E.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.next=3,O.a.get("/data/reset/".concat(e)).then((function(e){e.data.token&&(n=!0)})).catch((function(e){return console.log(e)}));case 3:return t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postPasswordReset:function(e,t){return function(){var a=Object(E.a)(h.a.mark((function a(n){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=!1,a.next=3,O.a.post("/data/reset/".concat(t),{password:e.password,confirmPassword:e.confirmPassword}).then((function(e){console.log(e.data),"Your password has been reset. You are now able to login."===e.data.passwordReset&&(r=!0)})).catch((function(e){return console.log(e.response)}));case 3:return a.sent,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},qe=Object(d.b)((function(e){return{errors:e.UI.errors}}),Ce)((function(e){var t=Object(n.useState)({password:"",confirmPassword:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({alerts:"",color:"",valid:!1}),d=Object(i.a)(o,2),m=d[0],p=d[1],f=function(e){l(De({},c,Object(u.a)({},e.target.name,e.target.value)))},b=function(){var t=Object(E.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.postPasswordReset(c,e.match.params.token);case 3:t.sent?window.location.href="/":p(De({},m,{alerts:"Passwords must match"}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)(Object(E.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkResetToken(e.match.params.token);case 2:t.sent||(window.location.href="/password-reset"),p(De({},m,{valid:!0}));case 5:case"end":return t.stop()}}),t)}))),[]),r.a.createElement("div",{id:"reset-page",className:"passwordChange-page"},m.valid?r.a.createElement("div",{id:"reset__form-container"},r.a.createElement("h1",null,"Password Reset"),r.a.createElement("form",{onSubmit:b},r.a.createElement("input",{onChange:f,value:c.password,type:"password",name:"password",placeholder:"New Password"}),r.a.createElement("input",{onChange:f,value:c.confirmPassword,type:"password",name:"confirmPassword",placeholder:"Confirm New Password"}),m.alerts?r.a.createElement("h5",{style:{color:m.color},className:"flashAlert"},m.alerts):null,r.a.createElement("button",{type:"submit"},"Submit Change")),r.a.createElement("div",{id:"page-selection"},r.a.createElement(s.b,{class:"selection__link red-hov",to:"/"},"Sign In"),r.a.createElement("span",null,"|"),r.a.createElement(s.b,{class:"selection__link green-hov",to:"/create-account"},"Create Account"))):null)})),ke=localStorage.token;ke?(1e3*_e()(ke).exp<Date.now()&&(console.log("Token is expired"),localStorage.clear(),window.location.href="/"),O.a.defaults.headers.common.Authorization=ke):"/dashboard"===window.location.pathname&&(window.location.href="/");var Re=Object(d.b)((function(e){return{modalStatus:e.UI.modalStatus}}),null)((function(e){return r.a.createElement("div",{className:"App"},e.modalStatus?r.a.createElement(we,null):null,r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:N}),r.a.createElement(o.a,{path:"/password-reset",component:x}),r.a.createElement(o.a,{path:"/create-account",component:L}),r.a.createElement(o.a,{path:"/dashboard",component:oe}),r.a.createElement(o.a,{path:"/reset/:token",component:qe}))))})),Ne=a(17),Ie=a(43);function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xe={username:"",email:"",squad:{},userCharacter:{characterName:"",characterId:0,stats:{attackMultiplier:0,defenseMultiplier:0}}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case b.LOGIN:case b.REFRESH:return Te({},e,{},n);case b.REFRESH_LEVEL:return Te({},e,{userCharacter:Te({},e.userCharacter,{rpgInfo:Te({},n)})});case b.REFRESH_CHARACTER:return Te({},e,{userCharacter:Te({},e.userCharacter,{},n)});case b.GET_SQUAD:return Te({},e,{squad:Te({},n)});default:return e}},Be=a(18);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ge={isAuthenticated:!1,battleMessages:[],potentialUsers:[],leaderboard:[],squadMemberInfo:[],squadSearchInfo:[],squadInformationPanel:[]},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case b.AUTHENTICATION:return Le({},e,{},n);case b.GET_ALL_BATTLE_MESSAGES:return Le({},e,{battleMessages:Object(Be.a)(n)});case b.GET_LEADERBOARD:return Le({},e,{leaderboard:Object(Be.a)(n)});case b.GET_POTENTIAL_BATTLES:return Le({},e,{potentialUsers:Object(Be.a)(n)});case b.GET_CMD_BRD_INFO:return Le({},e,{squadMemberInfo:n});case b.GET_SQUAD_SEARCH_INFO:return Le({},e,{squadSearchInfo:Object(Be.a)(n)});case b.GET_SQUAD_INFORMATION:return Le({},e,{squadInformationPanel:Object(Be.a)(n)});default:return e}};function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We={errors:[],modalStatus:!1,modalState:""},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case b.ADD_ERRORS:return Qe({},e,{errors:[n]});case b.CLEAR_ERRORS:return Qe({},e,{errors:We.errors});case b.TOGGLE_MODAL:return Qe({},e,{modalStatus:!e.modalStatus,modalState:n});default:return e}},Xe=[Ie.a],Je=Object(Ne.c)({User:Me,Data:Fe,UI:Ve}),Ye=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Ne.d)(Ne.a.apply(void 0,Xe)),ze=Object(Ne.e)(Je,{},Ye);l.a.render(r.a.createElement(d.a,{store:ze},r.a.createElement(Re,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.232b2e14.chunk.js.map